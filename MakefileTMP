CFLAGS = -g -Wall -std=c99 `pkg-config --cflags MLV`
CPPFLAGS = -I .
SRC = $(wildcard *.c)
OBJ = $(SRC:.c=.o)
DEPS = $(SRC:.c=.d)

all:libgrid.a test_verif

%d: %c
	gcc -M $(CPPFLAGS) $< > $@

include $(DEPS)

libgrid.a:$(OBJ)
	ar cr $@ $(OBJ)

test_verif:$(OBJ)
	gcc -L . $^ `pkg-config --libs MLV` -lgrid -o $@

.PHONY : clean
clean:
	rm -f libgrid.a test_verif $(OBJ) $(DEPS) *~
